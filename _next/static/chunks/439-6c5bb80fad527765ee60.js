(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{2122:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5893),s=(n(7294),n(9008)),a=n(9163).ZP.div.withConfig({displayName:"FullScreenWrapper",componentId:"sc-4eqart-0"})(["width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;"]),o=function(e){var t=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.default,{children:[(0,r.jsx)("title",{children:"Task Management"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500"}),(0,r.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})]}),(0,r.jsx)(a,{children:t})]})}},9019:function(e,t,n){"use strict";n.d(t,{h_:function(){return E},rs:function(){return u},LM:function(){return f}});var r=n(809),s=n.n(r),a=n(2447),o=n(1163),c=n(7294),i=n(441),u=function(){return c.useContext(i.x).tasksStore},f=function(){return c.useContext(i.x).userStore},p=n(6265),l=function(e){var t,n;return null!==(t=null===(n=e.headers.get("Content-Type"))||void 0===n?void 0:n.startsWith("application/json"))&&void 0!==t&&t},h=function(e){var t=e.headers.get("Content-Length");return!t||0===parseInt(t,10)},d=function(){var e=(0,a.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h(t)){e.next=2;break}return e.abrupt("return","");case 2:return n=l(t),e.next=5,n?t.json():t.text();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t){return function(){var n=(0,a.Z)(s().mark((function n(r,a){var o,c,i,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/tasks",{method:"POST",headers:(o={},(0,p.Z)(o,"Authorization","Bearer ".concat(e)),(0,p.Z)(o,"Content-Type","application/json"),o),body:JSON.stringify({title:r,description:a})});case 2:return c=n.sent,n.next=5,d(c);case 5:if(i=n.sent,c.ok){n.next=12;break}if(401!==c.status){n.next=11;break}t(),n.next=12;break;case 11:throw new Error(null!==(u=null===i||void 0===i?void 0:i.message)&&void 0!==u?u:i);case 12:return n.abrupt("return",i);case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},k=function(e,t){return function(){var n=(0,a.Z)(s().mark((function n(r){var a,o,c,i,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="/api/tasks/".concat(r),n.next=3,fetch(o,{method:"DELETE",headers:(a={},(0,p.Z)(a,"Authorization","Bearer ".concat(e)),(0,p.Z)(a,"Content-Type","application/json"),a)});case 3:return c=n.sent,n.next=6,d(c);case 6:if(i=n.sent,c.ok){n.next=13;break}if(401!==c.status){n.next=12;break}t(),n.next=13;break;case 12:throw new Error(null!==(u=null===i||void 0===i?void 0:i.message)&&void 0!==u?u:i);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},x=n(7563);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){return{headers:(0,p.Z)({},"Authorization","Bearer ".concat(e))}},g=function(e,t){return t?(0,p.Z)({},e,t):null},m=function(e){var t=e.search,n=e.status;return b(b({},g("search",t)),g("status",n))},O=function(e,t){return function(){var n=(0,a.Z)(s().mark((function n(r,a){var o,c,i,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=x.stringify(m(r)),n.next=3,fetch("/api/tasks"+(o?"?".concat(o):""),y(e));case 3:return c=n.sent,n.next=6,d(c);case 6:if(i=n.sent,c.ok){n.next=15;break}if(401!==c.status){n.next=12;break}t(),n.next=13;break;case 12:throw new Error(null!==(u=null===i||void 0===i?void 0:i.message)&&void 0!==u?u:i);case 13:n.next=16;break;case 15:a(i);case 16:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},j=n(4155),T=function(){var e=(0,a.Z)(s().mark((function e(t,n){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("test"),console.log("BASE: ".concat(j.env.REACT_APP_BASE_URL)),console.log("HOST: ".concat(j.env.REACT_APP_HOST_URL)),e.next=5,fetch("/api/signin",{headers:(0,p.Z)({},"Content-Type","application/json"),method:"POST",body:JSON.stringify({username:t,password:n})});case 5:return r=e.sent,e.next=8,d(r);case 8:if(a=e.sent,r.ok){e.next=11;break}throw new Error(null!==(o=null===a||void 0===a?void 0:a.message)&&void 0!==o?o:a);case 11:return e.abrupt("return",null===a||void 0===a?void 0:a.accessToken);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.Z)(s().mark((function e(t,n){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/signup",{headers:(0,p.Z)({},"Content-Type","application/json"),method:"POST",body:JSON.stringify({username:t,password:n})});case 2:if((r=e.sent).ok){e.next=8;break}return e.next=6,d(r);case 6:throw o=e.sent,new Error(null!==(a=null===o||void 0===o?void 0:o.message)&&void 0!==a?a:o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(e,t){return function(){var n=(0,a.Z)(s().mark((function n(r,a){var o,c,i,u,f;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c="/api/tasks/".concat(r,"/status"),n.next=3,fetch(c,{method:"PATCH",headers:(o={},(0,p.Z)(o,"Authorization","Bearer ".concat(e)),(0,p.Z)(o,"Content-Type","application/json"),o),body:JSON.stringify({status:a})});case 3:return i=n.sent,n.next=6,d(i);case 6:if(u=n.sent,i.ok){n.next=13;break}if(401!==i.status){n.next=12;break}t(),n.next=13;break;case 12:throw new Error(null!==(f=null===u||void 0===u?void 0:u.message)&&void 0!==f?f:u);case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},E=function(){var e=(0,o.useRouter)(),t=u(),n=f(),r=function(){var n=(0,a.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return window.localStorage.removeItem("accessToken"),t.clearTasks(),n.next=4,e.push("/");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(e,t){return{createTask:v(e,t),deleteTask:k(e,t),fetchTasks:O(e,t),signIn:T,signOut:t,signUp:Z,updateTaskStatus:S(e,t)}}(n.accessToken,r)}}}]);