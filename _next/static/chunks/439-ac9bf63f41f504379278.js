(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{2122:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5893),a=(n(7294),n(9008)),s=n(9163).ZP.div.withConfig({displayName:"FullScreenWrapper",componentId:"sc-4eqart-0"})(["width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;"]),o=function(e){var t=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"Task Management"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500"}),(0,r.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})]}),(0,r.jsx)(s,{children:t})]})}},9019:function(e,t,n){"use strict";n.d(t,{h_:function(){return S},rs:function(){return u},LM:function(){return f}});var r=n(809),a=n.n(r),s=n(2447),o=n(1163),i=n(7294),c=n(441),u=function(){return i.useContext(c.x).tasksStore},f=function(){return i.useContext(c.x).userStore},p=n(6265),l=function(e){var t,n;return null!==(t=null===(n=e.headers.get("Content-Type"))||void 0===n?void 0:n.startsWith("application/json"))&&void 0!==t&&t},h=function(e){var t=e.headers.get("Content-Length");return!t||0===parseInt(t,10)},d=function(){var e=(0,s.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h(t)){e.next=2;break}return e.abrupt("return","");case 2:return n=l(t),e.next=5,n?t.json():t.text();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t){return function(){var n=(0,s.Z)(a().mark((function n(r,s){var o,i,c,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/tasks",{method:"POST",headers:(o={},(0,p.Z)(o,"Authorization","Bearer ".concat(e)),(0,p.Z)(o,"Content-Type","application/json"),o),body:JSON.stringify({title:r,description:s})});case 2:return i=n.sent,n.next=5,d(i);case 5:if(c=n.sent,i.ok){n.next=12;break}if(401!==i.status){n.next=11;break}t(),n.next=12;break;case 11:throw new Error(null!==(u=null===c||void 0===c?void 0:c.message)&&void 0!==u?u:c);case 12:return n.abrupt("return",c);case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},k=function(e,t){return function(){var n=(0,s.Z)(a().mark((function n(r){var s,o,i,c,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="/api/tasks/".concat(r),n.next=3,fetch(o,{method:"DELETE",headers:(s={},(0,p.Z)(s,"Authorization","Bearer ".concat(e)),(0,p.Z)(s,"Content-Type","application/json"),s)});case 3:return i=n.sent,n.next=6,d(i);case 6:if(c=n.sent,i.ok){n.next=13;break}if(401!==i.status){n.next=12;break}t(),n.next=13;break;case 12:throw new Error(null!==(u=null===c||void 0===c?void 0:c.message)&&void 0!==u?u:c);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},x=n(7563);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){return{headers:(0,p.Z)({},"Authorization","Bearer ".concat(e))}},m=function(e,t){return t?(0,p.Z)({},e,t):null},g=function(e){var t=e.search,n=e.status;return b(b({},m("search",t)),m("status",n))},j=function(e,t){return function(){var n=(0,s.Z)(a().mark((function n(r,s){var o,i,c,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=x.stringify(g(r)),n.next=3,fetch("/api/tasks"+(o?"?".concat(o):""),y(e));case 3:return i=n.sent,n.next=6,d(i);case 6:if(c=n.sent,i.ok){n.next=15;break}if(401!==i.status){n.next=12;break}t(),n.next=13;break;case 12:throw new Error(null!==(u=null===c||void 0===c?void 0:c.message)&&void 0!==u?u:c);case 13:n.next=16;break;case 15:s(c);case 16:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},O=function(){var e=(0,s.Z)(a().mark((function e(t,n){var r,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/signin",{headers:(0,p.Z)({},"Content-Type","application/json"),method:"POST",body:JSON.stringify({username:t,password:n})});case 2:return r=e.sent,e.next=5,d(r);case 5:if(s=e.sent,r.ok){e.next=8;break}throw new Error(null!==(o=null===s||void 0===s?void 0:s.message)&&void 0!==o?o:s);case 8:return e.abrupt("return",null===s||void 0===s?void 0:s.accessToken);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)(a().mark((function e(t,n){var r,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/signup",{headers:(0,p.Z)({},"Content-Type","application/json"),method:"POST",body:JSON.stringify({username:t,password:n})});case 2:if((r=e.sent).ok){e.next=8;break}return e.next=6,d(r);case 6:throw o=e.sent,new Error(null!==(s=null===o||void 0===o?void 0:o.message)&&void 0!==s?s:o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(e,t){return function(){var n=(0,s.Z)(a().mark((function n(r,s){var o,i,c,u,f;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="/api/tasks/".concat(r,"/status"),n.next=3,fetch(i,{method:"PATCH",headers:(o={},(0,p.Z)(o,"Authorization","Bearer ".concat(e)),(0,p.Z)(o,"Content-Type","application/json"),o),body:JSON.stringify({status:s})});case 3:return c=n.sent,n.next=6,d(c);case 6:if(u=n.sent,c.ok){n.next=13;break}if(401!==c.status){n.next=12;break}t(),n.next=13;break;case 12:throw new Error(null!==(f=null===u||void 0===u?void 0:u.message)&&void 0!==f?f:u);case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},S=function(){var e=(0,o.useRouter)(),t=u(),n=f(),r=function(){var n=(0,s.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return window.localStorage.removeItem("accessToken"),t.clearTasks(),n.next=4,e.push("/");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(e,t){return{createTask:v(e,t),deleteTask:k(e,t),fetchTasks:j(e,t),signIn:O,signOut:t,signUp:Z,updateTaskStatus:T(e,t)}}(n.accessToken,r)}}}]);